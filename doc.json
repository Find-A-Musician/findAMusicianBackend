{"openapi":"3.0.1","info":{"version":"1.0.0","title":"findAMusician","description":"The API for the website findAMusician","contact":{"name":"Romain Guarinoni","email":"romain.guar01@gmail.com","url":"https://github.com/RomainGuarinoni"}},"servers":[{"url":"http://localhost:8000","description":"Local server"}],"components":{"schemas":{"musician":{"type":"object","required":["email"],"properties":{"id":{"type":"string"},"email":{"type":"string","format":"email"},"givenName":{"type":"string"},"familyName":{"type":"string"},"phone":{"type":"string"},"facebookUrl":{"type":"string"},"twitterUrl":{"type":"string"},"instagramUrl":{"type":"string"},"promotion":{"type":"string","enum":["L1","L2","L3","M1","M2"]},"location":{"type":"string","enum":["Douai","Lille"]}}},"instrument":{"type":"object","required":["name","id"],"properties":{"id":{"type":"string"},"name":{"type":"string"}}},"genre":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string"},"name":{"type":"string"}}},"token":{"type":"object","required":["token","refresh_token"],"properties":{"token":{"type":"string"},"refresh_token":{"type":"string"}}}},"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":{"name":"test tags"},"paths":{"/register":{"post":{"operationId":"register","tags":["auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["musician","password","genres","instruments"],"properties":{"musician":{"$ref":"#/components/schemas/musician"},"password":{"type":"string"},"genres":{"type":"array","items":{"$ref":"#/components/schemas/genre"}},"instruments":{"type":"array","items":{"$ref":"#/components/schemas/instrument"}}}},"example":{"musician":{"email":"john.doe@gmail.com","givenName":"John","familyName":"Doe","phone":"0760072513","facebookUrl":"https://facebook.com","twitterUrl":"https://twitter.com","instagramUrl":"https://instagram.com","promotion":"L1","location":"Douai"},"password":"test","genres":[{"id":"d5e352dc-29a6-4a2d-a226-29d6866d1b5d","name":"rock"},{"id":"7d68d33c-3eff-4f5e-985b-c7d9e058e23a","name":"metal"}],"instruments":[{"id":"cd836a31-1663-4a11-8a88-0a249aa70793","name":"batterie"},{"id":"e345114e-7723-42eb-8ed1-f26cd2f9d084","name":"guitare"}]}}}},"responses":{"201":{"description":"The user has been registered in the db","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"$ref":"#/components/schemas/token"},"musician":{"$ref":"#/components/schemas/musician"},"genres":{"type":"array","items":{"$ref":"#/components/schemas/genre"}},"instruments":{"type":"array","items":{"$ref":"#/components/schemas/instrument"}}}}}}}}}},"/login":{"post":{"operationId":"login","tags":["auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/token"},{"$ref":"#/components/schemas/musician"}]}}}}}}},"/musicians":{"get":{"operationId":"getMusicians","tags":["musician"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"A list of all the musicians","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/musician"}}}}}}}},"/musician/{musicianId}":{"patch":{"operationId":"patchMusician","tags":["musician"],"parameters":[{"name":"musicianId","in":"path"}],"security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"givenName":{"type":"string"},"familyName":{"type":"string"},"phone":{"type":"string"},"facebookUrl":{"type":"string"},"twitterUrl":{"type":"string"},"instagramUrl":{"type":"string"},"promotion":{"type":"string","enum":["L1","L2","L3","M1","M2"]},"location":{"type":"string","enum":["Douai","Lille"]}}}}}},"responses":{"201":{"description":"The musician information has been updated"}}}},"/instruments":{"get":{"operationId":"getInstruments","tags":["instruments"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"A list of all the instruments","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/instrument"}}}}}}}},"/genres":{"get":{"operationId":"getGenres","description":"Get a list of all genres","tags":["genres"],"security":[{"BearerAuth":[]}],"responses":{"200":{"description":"A list of all genres","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/genre"}}}}}}}}}}